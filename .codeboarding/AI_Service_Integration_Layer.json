{
  "description": "The AI Service Integration Layer serves as a crucial abstraction layer, centralizing the management and interaction with diverse AI services. The `InferenceManager` acts as the orchestrator, directing requests to specialized abstract provider interfaces (`LLMModelProviderAbstract`, `ImggWorkerAbstract`, `OcrWorkerAbstract`). The `LLMDeck` supports LLM operations by managing model configurations and selection. `LLMPrompt` is essential for dynamically constructing prompts for LLM interactions. The `Plugins` component ensures the extensibility of this layer, allowing for seamless integration of new AI service providers, thereby enhancing the overall flexibility and capabilities of the system.",
  "components": [
    {
      "name": "InferenceManager",
      "description": "Acts as the primary facade for all AI inference operations within the subsystem. It orchestrates incoming requests, routes them to the appropriate specialized AI service providers (LLM, Image Generation, OCR), and manages their setup and configuration. It receives inference requests and delegates to specific `LLMModelProviderAbstract`, `ImggWorkerAbstract`, and `OcrWorkerAbstract` implementations, utilizing `LLMDeck` for LLM model selection and configuration.",
      "referenced_source_code": [
        {
          "qualified_name": "pipelex.cogt.inference.inference_manager.InferenceManager",
          "reference_file": "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/cogt/inference/inference_manager.py",
          "reference_start_line": 23,
          "reference_end_line": 186
        }
      ],
      "assigned_files": [
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/cogt/inference/",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/cogt/inference/__init__.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/cogt/inference/inference_job_abstract.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/cogt/inference/inference_manager_protocol.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/cogt/inference/cost_registry.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/cogt/inference/inference_worker_abstract.py"
      ],
      "can_expand": true
    },
    {
      "name": "LLMDeck",
      "description": "Manages a comprehensive registry of available LLM models, their configurations, and associated metadata (e.g., capabilities, cost parameters). It provides validation and selection logic for LLM settings to ensure compatibility and optimal usage. It is consulted by `InferenceManager` or `LLMModelProviderAbstract` implementations for model selection, configuration, and potentially cost tracking.",
      "referenced_source_code": [
        {
          "qualified_name": "pipelex.cogt.llm.llm_models.llm_deck.LLMDeck",
          "reference_file": "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/cogt/llm/llm_models/llm_deck.py",
          "reference_start_line": 19,
          "reference_end_line": 161
        }
      ],
      "assigned_files": [
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/cogt/llm/llm_models/llm_model.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/cogt/llm/llm_models/__init__.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/cogt/llm/llm_models/llm_family.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/cogt/llm/llm_models/llm_setting.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/cogt/llm/llm_models/llm_engine_blueprint.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/cogt/llm/llm_models/llm_engine.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/cogt/llm/llm_models/llm_prompting_target.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/cogt/llm/llm_models/llm_deck_abstract.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/cogt/llm/llm_models/llm_engine_factory.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/cogt/llm/llm_models/llm_model_library.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/cogt/llm/llm_models/llm_deck_check.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/cogt/llm/llm_models/llm_platform.py"
      ],
      "can_expand": true
    },
    {
      "name": "LLMModelProviderAbstract",
      "description": "Defines the abstract interface for encapsulating specific API calls, authentication, and data formatting required to interact with individual Large Language Model providers (e.g., Anthropic, Google, Mistral, AWS Bedrock). It translates generic inference requests into provider-specific formats. It is called by `InferenceManager` and communicates directly with external LLM APIs, potentially utilizing `LLMPrompt` for dynamic prompt generation.",
      "referenced_source_code": [
        {
          "qualified_name": "pipelex.cogt.llm.llm_models.llm_model_provider_abstract.LLMModelProviderAbstract",
          "reference_file": "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/cogt/llm/llm_models/llm_model_provider_abstract.py",
          "reference_start_line": 8,
          "reference_end_line": 42
        }
      ],
      "assigned_files": [
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/cogt/llm/",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/cogt/llm/llm_job.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/cogt/llm/llm_job_components.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/cogt/llm/__init__.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/cogt/llm/llm_worker_abstract.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/cogt/llm/llm_worker_factory.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/cogt/llm/llm_worker_internal_abstract.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/cogt/llm/llm_job_factory.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/cogt/llm/llm_report.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/cogt/llm/token_category.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/cogt/llm/structured_output.py"
      ],
      "can_expand": true
    },
    {
      "name": "ImggWorkerAbstract",
      "description": "Defines the abstract interface for handling provider-specific API interactions for various image generation services. It is called by `InferenceManager` and communicates with external Image Generation APIs.",
      "referenced_source_code": [
        {
          "qualified_name": "pipelex.cogt.imgg.imgg_worker_abstract.ImggWorkerAbstract",
          "reference_file": "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/cogt/imgg/imgg_worker_abstract.py",
          "reference_start_line": 15,
          "reference_end_line": 107
        }
      ],
      "assigned_files": [
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/cogt/imgg/",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/cogt/imgg/__init__.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/cogt/imgg/imgg_job_components.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/cogt/imgg/imgg_engine_factory.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/cogt/imgg/imgg_prompt.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/cogt/imgg/imgg_handle.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/cogt/imgg/imgg_job.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/cogt/imgg/imgg_engine.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/cogt/imgg/imgg_platform.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/cogt/imgg/imgg_job_factory.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/cogt/imgg/imgg_worker_factory.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/cogt/image/prompt_image.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/cogt/image/__init__.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/cogt/image/prompt_image_factory.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/cogt/image/generated_image.py"
      ],
      "can_expand": true
    },
    {
      "name": "OcrWorkerAbstract",
      "description": "Defines the abstract interface for managing provider-specific API calls for Optical Character Recognition services. It is called by `InferenceManager` and communicates with external OCR APIs.",
      "referenced_source_code": [
        {
          "qualified_name": "pipelex.cogt.ocr.ocr_worker_abstract.OcrWorkerAbstract",
          "reference_file": "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/cogt/ocr/ocr_worker_abstract.py",
          "reference_start_line": 15,
          "reference_end_line": 71
        }
      ],
      "assigned_files": [
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/cogt/ocr/",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/cogt/ocr/__init__.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/cogt/ocr/ocr_engine_factory.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/cogt/ocr/ocr_platform.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/cogt/ocr/ocr_job_components.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/cogt/ocr/ocr_handle.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/cogt/ocr/ocr_input.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/cogt/ocr/ocr_job.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/cogt/ocr/ocr_job_factory.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/cogt/ocr/ocr_engine.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/cogt/ocr/ocr_output.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/cogt/ocr/ocr_worker_factory.py"
      ],
      "can_expand": true
    },
    {
      "name": "LLMPrompt",
      "description": "Represents and manages the structure and content of prompts for LLM models. It facilitates the dynamic construction and formatting of prompts suitable for different LLM models and providers, potentially incorporating templating, context injection, and few-shot examples. It is used by `LLMModelProviderAbstract` implementations (and potentially `InferenceManager`) to prepare input for LLM calls.",
      "referenced_source_code": [
        {
          "qualified_name": "pipelex.cogt.llm.llm_prompt.LLMPrompt",
          "reference_file": "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/cogt/llm/llm_prompt.py",
          "reference_start_line": 13,
          "reference_end_line": 85
        }
      ],
      "assigned_files": [
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/cogt/llm/llm_prompt_template.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/cogt/llm/llm_prompt_spec.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/cogt/llm/llm_prompt_factory_abstract.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/cogt/llm/llm_prompt_template_inputs.py"
      ],
      "can_expand": false
    },
    {
      "name": "Plugins",
      "description": "Provides extension points for integrating new or custom AI service providers into the AI Service Integration Layer, adhering to a plugin architecture. This allows for flexible expansion of supported AI services.",
      "referenced_source_code": [
        {
          "qualified_name": "pipelex.plugins.__init__.py",
          "reference_file": "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/plugins/__init__.py",
          "reference_start_line": null,
          "reference_end_line": null
        }
      ],
      "assigned_files": [
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/plugins/",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/plugins/__init__.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/plugins/plugin_sdk_registry.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/plugins/plugins_config.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/plugins/plugin_manager.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/plugins/openai/custom_endpoint_config.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/plugins/openai/openai_imgg_factory.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/plugins/openai/__init__.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/plugins/openai/perplexity_config.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/plugins/openai/openai_config.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/plugins/openai/openai_llm_worker.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/plugins/openai/openai_llms.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/plugins/openai/vertexai_config.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/plugins/openai/openai_factory.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/plugins/openai/azure_openai_config.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/plugins/openai/openai_func.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/plugins/openai/xai_config.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/plugins/openai/openai_imgg_worker.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/plugins/bedrock/__init__.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/plugins/bedrock/bedrock_client_protocol.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/plugins/bedrock/bedrock_factory.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/plugins/bedrock/bedrock_config.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/plugins/bedrock/bedrock_message.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/plugins/bedrock/bedrock_llm_worker.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/plugins/bedrock/bedrock_client_aioboto3.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/plugins/bedrock/bedrock_client_boto3.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/plugins/anthropic/__init__.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/plugins/anthropic/anthropic_config.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/plugins/anthropic/anthropic_llm_worker.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/plugins/anthropic/anthropic_factory.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/plugins/anthropic/anthropic_llms.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/plugins/specific_llm/specific_llm_config.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/plugins/fal/__init__.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/plugins/fal/fal_config.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/plugins/fal/fal_factory.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/plugins/fal/fal_imgg_worker.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/plugins/mistral/__init__.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/plugins/mistral/mistral_utils.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/plugins/mistral/mistral_factory.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/plugins/mistral/mistral_llms.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/plugins/mistral/mistral_ocr_worker.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/plugins/mistral/mistral_config.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/plugins/mistral/mistral_llm_worker.py"
      ],
      "can_expand": true
    },
    {
      "name": "Unclassified",
      "description": "Component for all unclassified files and utility functions (Utility functions/External Libraries/Dependencies)",
      "referenced_source_code": [],
      "assigned_files": [
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/tools/templating/jinja2_required_variables.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/tools/templating/__init__.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/tools/templating/template_library.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/tools/templating/jinja2_models.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/tools/templating/templating_models.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/tools/templating/jinja2_blueprint.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/tools/templating/jinja2_template_loader.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/tools/templating/template_preprocessor.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/tools/templating/jinja2_errors.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/tools/templating/jinja2_rendering.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/tools/templating/template_provider_abstract.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/tools/templating/jinja2_environment.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/tools/templating/jinja2_parsing.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/tools/templating/jinja2_template_category.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/tools/templating/jinja2_filters.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/tools/pdf/__init__.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/tools/pdf/pypdfium2_renderer.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/cogt/__init__.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/cogt/config_cogt.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/cogt/exceptions.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/cogt/content_generation/__init__.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/cogt/content_generation/content_generator_dry.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/cogt/content_generation/assignment_models.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/cogt/content_generation/jinja2_generate.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/cogt/content_generation/llm_generate.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/cogt/content_generation/content_generator_protocol.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/cogt/content_generation/ocr_generate.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/cogt/content_generation/imgg_generate.py",
        "/home/ubuntu/CodeBoarding/repo/pipelex/pipelex/cogt/content_generation/content_generator.py"
      ],
      "can_expand": false
    }
  ],
  "components_relations": [
    {
      "relation": "orchestrates",
      "src_name": "InferenceManager",
      "dst_name": "LLMModelProviderAbstract"
    },
    {
      "relation": "orchestrates",
      "src_name": "InferenceManager",
      "dst_name": "ImggWorkerAbstract"
    },
    {
      "relation": "orchestrates",
      "src_name": "InferenceManager",
      "dst_name": "OcrWorkerAbstract"
    },
    {
      "relation": "utilizes",
      "src_name": "InferenceManager",
      "dst_name": "LLMDeck"
    },
    {
      "relation": "uses",
      "src_name": "LLMModelProviderAbstract",
      "dst_name": "LLMPrompt"
    }
  ]
}
